(this["webpackJsonpreact-spotify-player"]=this["webpackJsonpreact-spotify-player"]||[]).push([[0],{14:function(t,e,s){},15:function(t,e,s){},17:function(t,e,s){},18:function(t,e,s){"use strict";s.r(e);var a=s(1),n=s.n(a),i=s(4),c=s.n(i),r=(s(14),s(5)),o=s(6),l=s(2),u=s(9),p=s(8),d=s(7),m=["user-top-read","user-read-currently-playing","user-read-playback-state"],g=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var s=e.split("=");t[s[0]]=decodeURIComponent(s[1])}return t}),{});window.location.hash="";var h=g,j=(s(15),s(0)),y=function(t){var e={backgroundImage:"url(".concat(t.item.album.images[0].url,")")},s={width:100*t.progress_ms/t.item.duration_ms+"%"};return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("div",{className:"main-wrapper",children:[Object(j.jsx)("div",{className:"now-playing__img",children:Object(j.jsx)("img",{alt:"player",src:t.item.album.images[0].url})}),Object(j.jsxs)("div",{className:"now-playing__side",children:[Object(j.jsx)("div",{className:"now-playing__name",children:t.item.name}),Object(j.jsx)("div",{className:"now-playing__artist",children:t.item.artists[0].name}),Object(j.jsx)("div",{className:"now-playing__status",children:t.is_playing?"Playing":"Paused"}),Object(j.jsx)("div",{className:"progress",children:Object(j.jsx)("div",{className:"progress__bar",style:s})})]}),Object(j.jsx)("div",{className:"background",style:e})," "]})})},b=s.p+"static/media/logo.6ce24c58.svg",_=(s(17),function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){var t;return Object(r.a)(this,s),(t=e.call(this)).state={token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0,tempo:""},is_playing:"Paused",progress_ms:0,no_data:!1},t.getCurrentlyPlaying=t.getCurrentlyPlaying.bind(Object(l.a)(t)),t.tick=t.tick.bind(Object(l.a)(t)),t}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var t=this,e=h.access_token;e&&(this.setState({token:e}),this.getCurrentlyPlaying(e)),this.interval=setInterval((function(){return t.tick()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"tick",value:function(){this.state.token&&this.getCurrentlyPlaying(this.state.token)}},{key:"getCurrentlyPlaying",value:function(t){var e=this;d.ajax({url:"https://api.spotify.com/v1/me/player",type:"GET",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){t?e.setState({item:t.item,is_playing:t.is_playing,progress_ms:t.progress_ms,no_data:!1}):e.setState({no_data:!0})}})}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsx)("img",{src:b,className:"App-logo",alt:"logo"}),!this.state.token&&Object(j.jsx)("a",{className:"btn btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("fdf92dcd70e3456d8bcc00f6db1ecce1","&redirect_uri=").concat("http://localhost:3000/","&scope=").concat(m.join("%20"),"&response_type=token&show_dialog=true"),children:"Login to Spotify"}),this.state.token&&!this.state.no_data&&Object(j.jsx)(y,{item:this.state.item,is_playing:this.state.is_playing,progress_ms:this.state.progress_ms}),this.state.no_data&&Object(j.jsx)("p",{children:"You need to be playing a song on Spotify, for something to appear here."})]})})}}]),s}(a.Component)),f=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,19)).then((function(e){var s=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,c=e.getTTFB;s(t),a(t),n(t),i(t),c(t)}))};c.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(_,{})}),document.getElementById("root")),f()}},[[18,1,2]]]);
//# sourceMappingURL=main.2492ebed.chunk.js.map